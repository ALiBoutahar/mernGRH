{"ast":null,"code":"import _toConsumableArray from\"D:/SAVE D/github project/mernGRH/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"D:/SAVE D/github project/mernGRH/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect}from'react';import axios from\"axios\";import{useState}from'react';// import './patient.css'\nimport SideNavBar from'../../SideNavBar/SideNavBar';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Patients(){var _useState=useState(new Date().toISOString().split('T')[0]),_useState2=_slicedToArray(_useState,2),date=_useState2[0],setdate=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),patient=_useState4[0],setPatient=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),patientItem=_useState6[0],setPatientItem=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),absences=_useState8[0],setabsences=_useState8[1];useEffect(function(){axios.post(\"http://localhost:5000/persone\").then(function(res){var use=res.data.data;setPatient(use);setPatientItem(use);});},[]);var Rechercher=function Rechercher(e){if(e.target.value===\"\"){setPatient(patientItem);return;}else{var result=patient.filter(function(item){return item.nom.toLowerCase().search(e.target.value.toLowerCase())!==-1;});setPatient(result);}};var Comp=function Comp(id){setdate(new Date().toISOString().split('T')[0]);setabsences([].concat(_toConsumableArray(absences),[{id:id,date:date,notif:\"on\"}]));};var addabcences=function addabcences(){axios.post(\"http://localhost:5000/ajouter-absence\",{absences:absences}).then(function(response){console.log(response.data);}).catch(function(error){console.error(\"Error adding absences:\",error);});};var mapping=patient&&patient.map(function(item){return/*#__PURE__*/_jsxs(\"tr\",{className:\"p-0\",style:{backgroundColor:'#EAEDED '},align:\"center\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"p-0\",colSpan:1,children:/*#__PURE__*/_jsx(\"img\",{src:\"/images/files-persones/\".concat(item.image),alt:\"\",width:50})}),/*#__PURE__*/_jsx(\"td\",{className:\"p-0\",colSpan:1,children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"cin\",name:\"cin\",value:item.cin,disabled:true})}),/*#__PURE__*/_jsx(\"td\",{className:\"p-0\",colSpan:1,children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"nom\",name:\"nom\",value:item.nom,disabled:true})}),/*#__PURE__*/_jsx(\"td\",{className:\"p-0\",colSpan:1,children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"prenom\",name:\"prenom\",value:item.prenom,disabled:true})}),/*#__PURE__*/_jsx(\"td\",{className:\"p-0\",colSpan:1,children:/*#__PURE__*/_jsx(\"div\",{class:\"form-check form-switch\",children:/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"checkbox\",id:\"notif\",name:item._id,onChange:function onChange(){return Comp(item._id);}})})})]},item._id);});return/*#__PURE__*/_jsxs(\"div\",{className:\"bodycontant\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"sidebar\",children:/*#__PURE__*/_jsx(SideNavBar,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"content\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container mx-2 mt-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"mt-1\",children:[\"ajouter les absances du \",date]}),/*#__PURE__*/_jsx(\"div\",{className:\"searchBar my-2\",children:/*#__PURE__*/_jsx(\"input\",{className:\"form-control mr-sm-2 mx-1\",type:\"search\",onChange:Rechercher,placeholder:\"Rechercher Persone avec le Nom\",\"aria-label\":\"Search\"})}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-fixed\",children:[/*#__PURE__*/_jsx(\"thead\",{style:{backgroundColor:'#D7DBDD'},children:/*#__PURE__*/_jsxs(\"tr\",{align:\"center\",children:[/*#__PURE__*/_jsx(\"td\",{colSpan:1,children:\"image\"}),/*#__PURE__*/_jsx(\"td\",{colSpan:1,children:\"Cin\"}),/*#__PURE__*/_jsx(\"td\",{colSpan:1,children:\"Nom\"}),/*#__PURE__*/_jsx(\"td\",{colSpan:1,children:\"Pr\\xE9nom\"}),/*#__PURE__*/_jsx(\"td\",{colSpan:1,children:\"notif\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[mapping,/*#__PURE__*/_jsxs(\"tr\",{align:\"center\",children:[/*#__PURE__*/_jsx(\"td\",{colSpan:6}),/*#__PURE__*/_jsx(\"td\",{className:\"chose \",colSpan:2,children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success\",onClick:function onClick(){return addabcences();},children:\"Enregistrer\"})})]})]})]})]})})]});}export default Patients;","map":{"version":3,"sources":["D:/SAVE D/github project/mernGRH/client/src/component/pages/absance/addAbsance.jsx"],"names":["React","useEffect","axios","useState","SideNavBar","Patients","Date","toISOString","split","date","setdate","patient","setPatient","patientItem","setPatientItem","absences","setabsences","post","then","res","use","data","Rechercher","e","target","value","result","filter","item","nom","toLowerCase","search","Comp","id","notif","addabcences","response","console","log","catch","error","mapping","map","backgroundColor","image","cin","prenom","_id"],"mappings":"kQAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,OAAzB,CACA;AACA,MAAOC,CAAAA,UAAP,KAAuB,6BAAvB,C,wFACA,QAASC,CAAAA,QAAT,EAAoB,CAChB,cAAwBF,QAAQ,CAAC,GAAIG,CAAAA,IAAJ,GAAWC,WAAX,GAAyBC,KAAzB,CAA+B,GAA/B,EAAoC,CAApC,CAAD,CAAhC,wCAAOC,IAAP,eAAaC,OAAb,eACA,eAA8BP,QAAQ,CAAC,EAAD,CAAtC,yCAAOQ,OAAP,eAAgBC,UAAhB,eACA,eAAsCT,QAAQ,CAAC,EAAD,CAA9C,yCAAOU,WAAP,eAAoBC,cAApB,eACA,eAAgCX,QAAQ,CAAC,EAAD,CAAxC,yCAAOY,QAAP,eAAiBC,WAAjB,eAEAf,SAAS,CAAC,UAAM,CACZC,KAAK,CAACe,IAAN,CAAW,+BAAX,EACCC,IADD,CACM,SAAAC,GAAG,CAAI,CACT,GAAMC,CAAAA,GAAG,CAAGD,GAAG,CAACE,IAAJ,CAASA,IAArB,CACAT,UAAU,CAACQ,GAAD,CAAV,CACAN,cAAc,CAACM,GAAD,CAAd,CACH,CALD,EAMH,CAPQ,CAOP,EAPO,CAAT,CASA,GAAME,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,CAAD,CAAO,CACtB,GAAIA,CAAC,CAACC,MAAF,CAASC,KAAT,GAAmB,EAAvB,CAA2B,CACvBb,UAAU,CAACC,WAAD,CAAV,CACA,OACH,CAHD,IAIK,CACD,GAAMa,CAAAA,MAAM,CAAGf,OAAO,CAACgB,MAAR,CAAe,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACC,GAAL,CAASC,WAAT,GAAuBC,MAAvB,CAA8BR,CAAC,CAACC,MAAF,CAASC,KAAT,CAAeK,WAAf,EAA9B,IAAgE,CAAC,CAArE,EAAnB,CAAf,CACAlB,UAAU,CAACc,MAAD,CAAV,CACH,CACJ,CATD,CAUA,GAAMM,CAAAA,IAAI,CAAC,QAALA,CAAAA,IAAK,CAACC,EAAD,CAAM,CACbvB,OAAO,CAAC,GAAIJ,CAAAA,IAAJ,GAAWC,WAAX,GAAyBC,KAAzB,CAA+B,GAA/B,EAAoC,CAApC,CAAD,CAAP,CACAQ,WAAW,8BAAKD,QAAL,GAAe,CAACkB,EAAE,CAACA,EAAJ,CAAQxB,IAAI,CAAEA,IAAd,CAAoByB,KAAK,CAAE,IAA3B,CAAf,GAAX,CACH,CAHD,CAKA,GAAMC,CAAAA,WAAW,CAAC,QAAZA,CAAAA,WAAY,EAAI,CAClBjC,KAAK,CAACe,IAAN,CAAW,uCAAX,CAAoD,CAAEF,QAAQ,CAARA,QAAF,CAApD,EACCG,IADD,CACM,SAACkB,QAAD,CAAc,CAChBC,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACf,IAArB,EACH,CAHD,EAICkB,KAJD,CAIO,SAACC,KAAD,CAAW,CACdH,OAAO,CAACG,KAAR,CAAc,wBAAd,CAAwCA,KAAxC,EACH,CAND,EAOH,CARD,CASA,GAAMC,CAAAA,OAAO,CAAG9B,OAAO,EAAIA,OAAO,CAAC+B,GAAR,CAAY,SAAAd,IAAI,qBACvC,YAAI,SAAS,CAAC,KAAd,CAAoB,KAAK,CAAE,CAACe,eAAe,CAAE,UAAlB,CAA3B,CAA0D,KAAK,CAAC,QAAhE,wBACI,WAAI,SAAS,CAAC,KAAd,CAAoB,OAAO,CAAE,CAA7B,uBAAgC,YAAK,GAAG,kCAA4Bf,IAAI,CAACgB,KAAjC,CAAR,CAAkD,GAAG,CAAC,EAAtD,CAAyD,KAAK,CAAE,EAAhE,EAAhC,EADJ,cAEI,WAAI,SAAS,CAAC,KAAd,CAAoB,OAAO,CAAE,CAA7B,uBAAgC,cAAO,IAAI,CAAC,MAAZ,CAAmB,SAAS,CAAC,cAA7B,CAA4C,EAAE,CAAC,KAA/C,CAAqD,IAAI,CAAC,KAA1D,CAAgE,KAAK,CAAEhB,IAAI,CAACiB,GAA5E,CAAiF,QAAQ,KAAzF,EAAhC,EAFJ,cAGI,WAAI,SAAS,CAAC,KAAd,CAAoB,OAAO,CAAE,CAA7B,uBAAgC,cAAO,IAAI,CAAC,MAAZ,CAAmB,SAAS,CAAC,cAA7B,CAA4C,EAAE,CAAC,KAA/C,CAAqD,IAAI,CAAC,KAA1D,CAAgE,KAAK,CAAEjB,IAAI,CAACC,GAA5E,CAAiF,QAAQ,KAAzF,EAAhC,EAHJ,cAII,WAAI,SAAS,CAAC,KAAd,CAAoB,OAAO,CAAE,CAA7B,uBAAgC,cAAO,IAAI,CAAC,MAAZ,CAAmB,SAAS,CAAC,cAA7B,CAA4C,EAAE,CAAC,QAA/C,CAAwD,IAAI,CAAC,QAA7D,CAAsE,KAAK,CAAED,IAAI,CAACkB,MAAlF,CAA0F,QAAQ,KAAlG,EAAhC,EAJJ,cAKI,WAAI,SAAS,CAAC,KAAd,CAAoB,OAAO,CAAE,CAA7B,uBACI,YAAK,KAAK,CAAC,wBAAX,uBACI,cAAO,SAAS,CAAC,kBAAjB,CAAoC,IAAI,CAAC,UAAzC,CAAoD,EAAE,CAAC,OAAvD,CAA+D,IAAI,CAAElB,IAAI,CAACmB,GAA1E,CAA+E,QAAQ,CAAE,0BAAIf,CAAAA,IAAI,CAACJ,IAAI,CAACmB,GAAN,CAAR,EAAzF,EADJ,EADJ,EALJ,GAA8EnB,IAAI,CAACmB,GAAnF,CADuC,EAAhB,CAA3B,CAaA,mBAEA,aAAK,SAAS,CAAC,aAAf,wBACI,YAAK,SAAS,CAAC,SAAf,uBACI,KAAC,UAAD,IADJ,EADJ,cAII,YAAK,SAAS,CAAC,SAAf,EAJJ,cAKI,YAAK,SAAS,CAAC,qBAAf,uBACI,aAAK,SAAS,CAAC,WAAf,wBACA,YAAI,SAAS,CAAC,MAAd,sCAC6BtC,IAD7B,GADA,cAIA,YAAK,SAAS,CAAC,gBAAf,uBAEI,cAAO,SAAS,CAAC,2BAAjB,CAA6C,IAAI,CAAC,QAAlD,CAA2D,QAAQ,CAAEa,UAArE,CAAiF,WAAW,CAAC,gCAA7F,CAA8H,aAAW,QAAzI,EAFJ,EAJA,cAQA,eAAO,SAAS,CAAC,mBAAjB,wBACI,cAAO,KAAK,CAAE,CAACqB,eAAe,CAAE,SAAlB,CAAd,uBACI,YAAI,KAAK,CAAC,QAAV,wBACI,WAAI,OAAO,CAAE,CAAb,mBADJ,cAEI,WAAI,OAAO,CAAE,CAAb,iBAFJ,cAGI,WAAI,OAAO,CAAE,CAAb,iBAHJ,cAII,WAAI,OAAO,CAAE,CAAb,uBAJJ,cAKI,WAAI,OAAO,CAAE,CAAb,mBALJ,GADJ,EADJ,cAUI,yBACKF,OADL,cAEI,YAAI,KAAK,CAAC,QAAV,wBACI,WAAI,OAAO,CAAE,CAAb,EADJ,cAEI,WAAI,SAAS,CAAC,QAAd,CAAsB,OAAO,CAAE,CAA/B,uBACI,eAAQ,SAAS,CAAC,iBAAlB,CAAqC,OAAO,CAAE,yBAAIN,CAAAA,WAAW,EAAf,EAA9C,yBADJ,EAFJ,GAFJ,GAVJ,GARA,GADJ,EALJ,GAFA,CAwCH,CAED,cAAe9B,CAAAA,QAAf","sourcesContent":["import React, { useEffect } from 'react'\r\nimport axios from \"axios\"\r\nimport { useState } from 'react'\r\n// import './patient.css'\r\nimport SideNavBar from '../../SideNavBar/SideNavBar'\r\nfunction Patients() {\r\n    const [date, setdate] = useState(new Date().toISOString().split('T')[0])\r\n    const [patient, setPatient] = useState([])\r\n    const [patientItem, setPatientItem] = useState([])\r\n    const [absences, setabsences] = useState([])\r\n\r\n    useEffect(() => {\r\n        axios.post(\"http://localhost:5000/persone\")\r\n        .then(res => {\r\n            const use = res.data.data;\r\n            setPatient(use)\r\n            setPatientItem(use)\r\n        });\r\n    },[]);  \r\n\r\n    const Rechercher = (e) => {\r\n        if (e.target.value === \"\") {\r\n            setPatient(patientItem)\r\n            return;\r\n        }\r\n        else {\r\n            const result = patient.filter(item => item.nom.toLowerCase().search(e.target.value.toLowerCase()) !== -1)\r\n            setPatient(result)\r\n        }\r\n    }\r\n    const Comp=(id)=>{\r\n        setdate(new Date().toISOString().split('T')[0]);\r\n        setabsences([...absences, {id:id, date: date, notif: \"on\" }]);\r\n    }\r\n\r\n    const addabcences=()=>{\r\n        axios.post(\"http://localhost:5000/ajouter-absence\", { absences }) \r\n        .then((response) => {\r\n            console.log(response.data);\r\n        })\r\n        .catch((error) => {\r\n            console.error(\"Error adding absences:\", error);\r\n        });\r\n    }\r\n    const mapping = patient && patient.map(item => (\r\n        <tr className='p-0' style={{backgroundColor: '#EAEDED '}} align='center' key={item._id}>\r\n            <td className='p-0' colSpan={1}><img src={`/images/files-persones/${item.image}`} alt=\"\" width={50}/></td>\r\n            <td className='p-0' colSpan={1}><input type=\"text\" className=\"form-control\" id=\"cin\" name='cin' value={item.cin} disabled /></td>\r\n            <td className='p-0' colSpan={1}><input type=\"text\" className=\"form-control\" id=\"nom\" name='nom' value={item.nom} disabled /></td>\r\n            <td className='p-0' colSpan={1}><input type=\"text\" className=\"form-control\" id=\"prenom\" name='prenom' value={item.prenom} disabled /></td>\r\n            <td className='p-0' colSpan={1}>\r\n                <div class=\"form-check form-switch\">\r\n                    <input className='form-check-input' type=\"checkbox\" id='notif' name={item._id} onChange={()=>Comp(item._id)} />\r\n                </div>\r\n            </td>\r\n        </tr>\r\n    ))\r\n    return (\r\n \r\n    <div className=\"bodycontant\">\r\n        <div className='sidebar'>\r\n            <SideNavBar/>\r\n        </div> \r\n        <div className='content'></div>\r\n        <div className='container mx-2 mt-1' >\r\n            <div className='container'>\r\n            <h1 className='mt-1'>\r\n                ajouter les absances du {date}\r\n            </h1>\r\n            <div className='searchBar my-2'>\r\n                {/* <Link to={\"/AjouterPatient\"} className='btn btn-success mx-2'>Ajouter</Link> */}\r\n                <input className=\"form-control mr-sm-2 mx-1\" type=\"search\" onChange={Rechercher} placeholder=\"Rechercher Persone avec le Nom\" aria-label=\"Search\" />\r\n            </div>\r\n            <table className=\"table table-fixed\">\r\n                <thead style={{backgroundColor: '#D7DBDD'}}>\r\n                    <tr align='center'>\r\n                        <td colSpan={1}>image</td>\r\n                        <td colSpan={1}>Cin</td> \r\n                        <td colSpan={1}>Nom</td>\r\n                        <td colSpan={1}>Pr√©nom</td>\r\n                        <td colSpan={1}>notif</td>\r\n                    </tr>\r\n                </thead>\r\n                <tbody >\r\n                    {mapping}\r\n                    <tr align='center'>\r\n                        <td colSpan={6}></td>\r\n                        <td className='chose 'colSpan={2}>\r\n                            <button className='btn btn-success'  onClick={()=>addabcences()}>Enregistrer</button>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n        </div>\r\n    </div>  \r\n    )\r\n}\r\n\r\nexport default Patients"]},"metadata":{},"sourceType":"module"}