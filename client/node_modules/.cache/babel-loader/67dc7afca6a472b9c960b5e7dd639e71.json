{"ast":null,"code":"import _slicedToArray from\"D:/SAVE D/github project/mernGRH/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import axios from'axios';import'./login.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Profil(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isDisabled=_useState2[0],setIsDisabled=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),show=_useState4[0],setShow=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),utilisateur=_useState6[0],setUtilisateur=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),motdepasse=_useState8[0],setMotdepasse=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),email=_useState10[0],setEmail=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),numero=_useState12[0],setNumero=_useState12[1];// const [id , setid]  = useState(window.localStorage.getItem(\"token\"))\nvar Editting=function Editting(e){e.preventDefault();setIsDisabled(!isDisabled);var data={user:utilisateur,tele:numero,email:email,pass:motdepasse};if(!isDisabled){axios.post(\"http://localhost:5000/edit_user\",data).then(function(Response){});}};useEffect(function(){fetch(\"http://localhost:5000/userData\",{method:\"POST\",crossDomain:true,headers:{\"Content-Type\":\"application/json\",Accept:\"application/json\",\"Access-Control-Allow-Origin\":\"*\"},body:JSON.stringify({token:window.localStorage.getItem(\"token\")})}).then(function(res){return res.json();}).then(function(data){console.log(data.data);setUtilisateur(data.data.user);setMotdepasse(data.data.pass);setEmail(data.data.email);setNumero(data.data.tele);});},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"mt-2 mx-5\",id:\"login\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"align-center\",children:[\" \",/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-user align-center\"}),\" Profile\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12 \",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Utilisateur\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control \",disabled:isDisabled,value:utilisateur||\"\",name:\"nomUtilisateur\",onChange:function onChange(e){setUtilisateur(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Mot de Passe\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"password\",children:[/*#__PURE__*/_jsx(\"input\",{type:!show?\"password\":\"text\",className:\"form-control col-md-9\",id:\"pass\",disabled:isDisabled,value:motdepasse||\"\",name:\"motdepasse\",onChange:function onChange(e){setMotdepasse(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-info col-md-2 mx-3\",onClick:function onClick(e){e.preventDefault();setShow(!show);},children:!show?/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-eye-slash\"}):/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-eye\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"E-mail\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",disabled:isDisabled,value:email||\"\",name:\"email\",onChange:function onChange(e){setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Num\\xE9ro\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",disabled:isDisabled,value:numero||\"\",name:\"numero\",onChange:function onChange(e){setNumero(e.target.value);}})]}),/*#__PURE__*/_jsx(\"hr\",{className:\"style1\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-warning\",onClick:Editting,children:\"Modifier\"}),!isDisabled?/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger mx-2\",onClick:function onClick(){return setIsDisabled(!isDisabled);},children:\"Annuler\"}):\"\"]})});}export default Profil;","map":{"version":3,"sources":["D:/SAVE D/github project/mernGRH/client/src/component/pages/profil/Profil.jsx"],"names":["React","useState","useEffect","axios","Profil","isDisabled","setIsDisabled","show","setShow","utilisateur","setUtilisateur","motdepasse","setMotdepasse","email","setEmail","numero","setNumero","Editting","e","preventDefault","data","user","tele","pass","post","then","Response","fetch","method","crossDomain","headers","Accept","body","JSON","stringify","token","window","localStorage","getItem","res","json","console","log","target","value"],"mappings":"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","sourcesContent":["import React , {useState , useEffect} from 'react'\r\nimport axios from 'axios';\r\nimport './login.css'\r\nfunction Profil() {\r\n    const [isDisabled, setIsDisabled] = useState(true);\r\n    const [show , setShow] = useState(false)\r\n    const [utilisateur , setUtilisateur] = useState()\r\n    const [motdepasse , setMotdepasse] = useState()\r\n    const [email , setEmail] = useState()\r\n    const [numero , setNumero]  = useState()\r\n    // const [id , setid]  = useState(window.localStorage.getItem(\"token\"))\r\n\r\n    \r\n    const Editting = (e) =>{\r\n        e.preventDefault()\r\n        setIsDisabled(!isDisabled)\r\n        const data = {\r\n            user : utilisateur,\r\n            tele : numero,\r\n            email : email,\r\n            pass : motdepasse\r\n        } \r\n        if(!isDisabled){\r\n            axios.post(\"http://localhost:5000/edit_user\",data)\r\n            .then((Response)=>{\r\n        })\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n        fetch(\"http://localhost:5000/userData\", {\r\n            method:\"POST\",\r\n            crossDomain:true,\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                 Accept:\"application/json\",\r\n                \"Access-Control-Allow-Origin\":\"*\",\r\n            },\r\n            body: JSON.stringify({\r\n                token:window.localStorage.getItem(\"token\"),\r\n            }),\r\n        })\r\n        .then((res)=>res.json())\r\n        .then((data)=>{\r\n            console.log(data.data)\r\n            setUtilisateur(data.data.user)\r\n            setMotdepasse(data.data.pass)\r\n            setEmail(data.data.email)\r\n            setNumero(data.data.tele)\r\n            \r\n        });\r\n    },[])\r\n  return (\r\n    <div className=\"container\">\r\n        <form className='mt-2 mx-5' id='login'> \r\n            <h1 className=\"align-center\"> <i className=\"fa fa-user align-center\"></i> Profile</h1>\r\n            <br />\r\n            <div className=\"col-md-12 \">\r\n                <label  className=\"form-label\">Utilisateur</label>\r\n                <input type=\"text\" className=\"form-control \" disabled={isDisabled} value={utilisateur || \"\"} name='nomUtilisateur' onChange={e=>{setUtilisateur(e.target.value)}} />\r\n            </div>\r\n            <div className=\"col-md-12\">\r\n                <label className=\"form-label\">Mot de Passe</label>\r\n                <div className=\"password\">\r\n                    <input type={!show ? \"password\" : \"text\"} className=\"form-control col-md-9\" id='pass'  disabled={isDisabled} value={motdepasse || \"\"} name='motdepasse' onChange={e=>{setMotdepasse(e.target.value)}}/>\r\n                    <button className='btn btn-info col-md-2 mx-3' onClick={(e)=>{e.preventDefault();setShow(!show)}}>{!show ? <i className=\"fa fa-eye-slash\"></i> : <i className=\"fa fa-eye\"></i>}</button>\r\n                </div>\r\n            </div>\r\n            <div className=\"col-md-12\">\r\n                <label  className=\"form-label\">E-mail</label>\r\n                <input type=\"text\" className=\"form-control\" disabled={isDisabled} value={email || \"\"} name='email' onChange={e=>{setEmail(e.target.value)}}/>\r\n            </div>\r\n            <div className=\"col-md-12\">\r\n                <label  className=\"form-label\">Numéro</label>\r\n                <input type=\"text\" className=\"form-control\"  disabled={isDisabled} value={numero || \"\"} name='numero' onChange={e=>{setNumero(e.target.value)}} />\r\n            </div>\r\n            <hr className=\"style1\"></hr>\r\n            <button className='btn btn-warning' onClick={Editting}>Modifier</button>\r\n            {!isDisabled ? <button className='btn btn-danger mx-2' onClick={()=>setIsDisabled(!isDisabled)}>Annuler</button> : \"\"}\r\n        </form>\r\n    \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Profil"]},"metadata":{},"sourceType":"module"}