{"ast":null,"code":"import _slicedToArray from\"D:/SAVE D/github project/mernGRH/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{Link}from'react-router-dom';// import RouterPath from '../SideNavBar/RouterPath'\nimport'./style.css';// import axios from 'axios'\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),show=_useState2[0],setShow=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),pass=_useState6[0],setpass=_useState6[1];var Error={Perror:\"Votre email Ou Mot de passe est incorrect\"};var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),Pmess=_useState8[0],setPmess=_useState8[1];var Login=function Login(e){e.preventDefault();fetch(\"http://localhost:5000/login\",{method:\"POST\",crossDomain:true,headers:{\"Content-Type\":\"application/json\",Accept:\"application/json\",\"Access-Control-Allow-Origin\":\"*\"},body:JSON.stringify({email:email,pass:pass})}).then(function(res){return res.json();}).then(function(data){console.log(data,\"userRegister\");if(data.status===\"ok\"){window.localStorage.setItem(\"token\",data.data.email);window.localStorage.setItem(\"loggedIn\",true);window.location.href=\"/Acceuil\";}else{setPmess(Error.Perror);}});};return/*#__PURE__*/_jsx(\"div\",{className:\"login\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"loginforms\",children:[/*#__PURE__*/_jsx(\"h2\",{style:{textAlign:\"center\"},children:\"Connecter\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12 \",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Utilisateur\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control text-left\",name:\"nomUtilisateur\",onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Mot de Passe\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"password\",children:[/*#__PURE__*/_jsx(\"input\",{type:!show?\"password\":\"text\",className:\"form-control text-left col-md-10\",name:\"motdepasse\",onChange:function onChange(e){return setpass(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-info col-md-2\",onClick:function onClick(e){e.preventDefault();setShow(!show);},children:!show?/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-eye-slash\"}):/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-eye\"})})]}),/*#__PURE__*/_jsx(\"div\",{style:{color:\"red\"},children:Pmess})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12 \",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success mt-2\",onClick:Login,children:\"Se Connecter\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"forgot-password text-right\",children:/*#__PURE__*/_jsxs(Link,{className:\"nav-link\",to:\"/Signup\",children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'blue'},children:\" Signup\"}),\" \"]})})]})});}export default Login;","map":{"version":3,"sources":["D:/SAVE D/github project/mernGRH/client/src/component/login/Login.jsx"],"names":["React","useState","Link","Login","show","setShow","email","setEmail","pass","setpass","Error","Perror","Pmess","setPmess","e","preventDefault","fetch","method","crossDomain","headers","Accept","body","JSON","stringify","then","res","json","data","console","log","status","window","localStorage","setItem","location","href","textAlign","target","value","color"],"mappings":"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","sourcesContent":["import React ,{useState}from 'react'\r\nimport {Link} from 'react-router-dom'\r\n// import RouterPath from '../SideNavBar/RouterPath'\r\nimport './style.css'\r\n// import axios from 'axios'\r\n\r\nfunction Login() {\r\n    const [show , setShow] = useState(false)\r\n    const [email,setEmail] = useState(\"\")\r\n    const [pass,setpass] = useState(\"\")\r\n    const Error = ({Perror : \"Votre email Ou Mot de passe est incorrect\"})\r\n    const[Pmess ,setPmess]  = useState();\r\n\r\n    const Login = (e) =>{\r\n        e.preventDefault();\r\n        fetch(\"http://localhost:5000/login\", {\r\n            method:\"POST\",\r\n            crossDomain:true,\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                 Accept:\"application/json\",\r\n                \"Access-Control-Allow-Origin\":\"*\",\r\n            },\r\n            body: JSON.stringify({\r\n                email,  \r\n                pass,\r\n            }),\r\n        })\r\n        .then((res)=>res.json())\r\n        .then((data)=>{\r\n            console.log(data,\"userRegister\");\r\n            if (data.status === \"ok\"){                \r\n                window.localStorage.setItem(\"token\", data.data.email);\r\n                window.localStorage.setItem(\"loggedIn\", true);\r\n                window.location.href=\"/Acceuil\";\r\n            }\r\n            else{\r\n                setPmess(Error.Perror)\r\n            }\r\n        });\r\n    }\r\n  return (\r\n        <div className=\"login\">\r\n            <div className=\"loginforms\">\r\n                <h2 style={{textAlign : \"center\"}}>Connecter</h2>\r\n                <div className=\"col-md-12 \">\r\n                    <label  className=\"form-label\">Utilisateur</label>\r\n                    <input type=\"text\" className=\"form-control text-left\"name='nomUtilisateur' onChange={(e)=>setEmail(e.target.value)}/>\r\n                    {/* {<div style={{color : \"red\"}}>{Emess}</div>} */}\r\n                </div>\r\n                <div className=\"col-md-12\">\r\n                    <label className=\"form-label\">Mot de Passe</label>\r\n                    <div className=\"password\">\r\n                    <input type={!show ? \"password\" : \"text\"} className=\"form-control text-left col-md-10\"  name='motdepasse' onChange={(e)=>setpass(e.target.value)} />\r\n                    <button className='btn btn-info col-md-2' onClick={(e)=>{e.preventDefault();setShow(!show)}}>{!show ? <i className=\"fa fa-eye-slash\"></i> : <i className=\"fa fa-eye\"></i>}</button>\r\n                    </div>\r\n                    {<div style={{color : \"red\"}}>{Pmess}</div>}\r\n                </div>\r\n                <div className=\"col-md-12 \">\r\n                    <button className='btn btn-success mt-2' onClick={Login}>Se Connecter</button>\r\n                </div>\r\n                <p className=\"forgot-password text-right\">\r\n                    <Link className={\"nav-link\"} to=\"/Signup\" ><span style={{ color: 'blue' }}> Signup</span> </Link>\r\n                </p>\r\n            </div>\r\n        </div>\r\n  )\r\n}\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}