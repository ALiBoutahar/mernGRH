{"ast":null,"code":"import _slicedToArray from\"D:/SAVE D/github project/mernGRH/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect}from'react';import axios from\"axios\";import{useState}from'react';import{Link}from'react-router-dom';import'./patient.css';// import Swal from 'sweetalert2'\nimport SideNavBar from'../../SideNavBar/SideNavBar';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Patients(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),patient=_useState2[0],setPatient=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),patientItem=_useState4[0],setPatientItem=_useState4[1];useEffect(function(){axios.post(\"http://localhost:5000/persone\").then(function(res){var use=res.data.data;setPatient(use);setPatientItem(use);});},[]);var Rechercher=function Rechercher(e){if(e.target.value===\"\"){setPatient(patientItem);return;}else{var result=patient.filter(function(item){return item.nom.toLowerCase().search(e.target.value.toLowerCase())!==-1;});setPatient(result);}};var handleDelete=function handleDelete(id){console.log(id);axios.post(\"http://localhost:5000/sup_personne\",{id:id}).then(function(Response){console.log(Response.data);});setPatient(patient.filter(function(pers){return pers._id!==id;}));};var mapping=patient&&patient.map(function(item){return/*#__PURE__*/_jsxs(\"tr\",{style:{backgroundColor:'#EAEDED '},align:\"center\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"p-0\",colSpan:1,children:/*#__PURE__*/_jsx(\"img\",{src:\"/images/files-persones/\".concat(item.image),alt:\"\",width:70,height:70})}),/*#__PURE__*/_jsx(\"td\",{colSpan:1,children:item.nom}),/*#__PURE__*/_jsx(\"td\",{colSpan:1,children:item.prenom}),/*#__PURE__*/_jsx(\"td\",{colSpan:2,children:item.email}),/*#__PURE__*/_jsx(\"td\",{colSpan:1,children:item.tele}),/*#__PURE__*/_jsx(\"td\",{colSpan:1,children:item.service}),/*#__PURE__*/_jsxs(\"td\",{className:\"chose\",colSpan:2,children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger btn-sm \",onClick:function onClick(){return handleDelete(item._id);},children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-solid fa-trash\"})}),/*#__PURE__*/_jsx(Link,{to:\"/Patient/\".concat(item._id,\"/EditPatient\"),className:\"btn btn-warning btn-sm  ml-1\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-pencil\"})}),/*#__PURE__*/_jsx(Link,{to:\"/Patient/DetailsPatient/\".concat(item._id),className:\"btn btn-primary btn-sm  ml-1\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-eye\"})})]})]},item._id);});return/*#__PURE__*/_jsxs(\"div\",{className:\"bodycontant\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"sidebar\",children:/*#__PURE__*/_jsx(SideNavBar,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"content\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container mx-2 mt-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mt-1\",children:\"Personne\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"searchBar my-2\",children:[/*#__PURE__*/_jsx(Link,{to:\"/AjouterPatient\",className:\"btn btn-success mx-2\",children:\"Ajouter\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control mr-sm-2 mx-1\",type:\"search\",onChange:Rechercher,placeholder:\"Rechercher Persone avec le Nom\",\"aria-label\":\"Search\"})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-fixed\",children:[/*#__PURE__*/_jsx(\"thead\",{style:{backgroundColor:'#D7DBDD'},children:/*#__PURE__*/_jsxs(\"tr\",{align:\"center\",children:[/*#__PURE__*/_jsx(\"td\",{colSpan:1,children:\"image\"}),/*#__PURE__*/_jsx(\"td\",{colSpan:1,children:\"Nom\"}),/*#__PURE__*/_jsx(\"td\",{colSpan:1,children:\"Pr\\xE9nom\"}),/*#__PURE__*/_jsx(\"td\",{colSpan:2,children:\"email\"}),/*#__PURE__*/_jsx(\"td\",{colSpan:1,children:\"phone\"}),/*#__PURE__*/_jsx(\"td\",{colSpan:1,children:\"service\"}),/*#__PURE__*/_jsx(\"td\",{colSpan:2,children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:mapping})]})]})})]});}export default Patients;","map":{"version":3,"sources":["D:/SAVE D/github project/mernGRH/client/src/component/pages/patient/Patients.jsx"],"names":["React","useEffect","axios","useState","Link","SideNavBar","Patients","patient","setPatient","patientItem","setPatientItem","post","then","res","use","data","Rechercher","e","target","value","result","filter","item","nom","toLowerCase","search","handleDelete","id","console","log","Response","pers","_id","mapping","map","backgroundColor","image","prenom","email","tele","service"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react'\r\nimport axios from \"axios\"\r\nimport { useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport './patient.css'\r\n// import Swal from 'sweetalert2'\r\nimport SideNavBar from '../../SideNavBar/SideNavBar'\r\nfunction Patients() {\r\n    const [patient, setPatient] = useState([])\r\n    const [patientItem, setPatientItem] = useState([])\r\n\r\n    useEffect(() => {\r\n        axios.post(\"http://localhost:5000/persone\")\r\n        .then(res => {\r\n            const use = res.data.data;\r\n            setPatient(use)\r\n            setPatientItem(use)\r\n        });\r\n    },[]);  \r\n    \r\n    const Rechercher = (e) => {\r\n        if (e.target.value === \"\") {\r\n            setPatient(patientItem)\r\n            return;\r\n        }\r\n        else {\r\n            const result = patient.filter(item => item.nom.toLowerCase().search(e.target.value.toLowerCase()) !== -1)\r\n            setPatient(result)\r\n        }\r\n    }\r\n\r\n    const handleDelete=(id)=>{\r\n        console.log(id);\r\n        axios.post(\"http://localhost:5000/sup_personne\", {id})\r\n        .then(Response=>{\r\n           console.log(Response.data)\r\n        });\r\n        setPatient(patient.filter((pers)=>{return pers._id !==id}))           \r\n    }\r\n\r\n    const mapping = patient && patient.map(item => (\r\n        <tr style={{backgroundColor: '#EAEDED '}} align='center' key={item._id}>\r\n            <td className='p-0' colSpan={1}><img src={`/images/files-persones/${item.image}`} alt=\"\" width={70} height={70}/></td>\r\n            <td colSpan={1}>{item.nom}</td>\r\n            <td colSpan={1}>{item.prenom}</td>\r\n            <td colSpan={2}>{item.email}</td>\r\n            <td colSpan={1}>{item.tele}</td>\r\n            <td colSpan={1}>{item.service}</td>\r\n            <td className='chose'colSpan={2}>\r\n                {/* <button className='btn btn-danger' onClick={() => { deletePatient(item.id) }}><i className=\"fa fa-solid fa-trash\"></i></button> */}\r\n                <button className='btn btn-danger btn-sm '  onClick={()=>handleDelete(item._id)}><i className=\"fa fa-solid fa-trash\"></i></button>\r\n                <Link to={`/Patient/${item._id}/EditPatient`} className='btn btn-warning btn-sm  ml-1'><i className=\"fa fa-pencil\"></i></Link>\r\n                <Link to={`/Patient/DetailsPatient/${item._id}`} className='btn btn-primary btn-sm  ml-1'><i className=\"fa fa-eye\"></i></Link>\r\n            </td>\r\n        </tr>\r\n    ))\r\n    return (\r\n\r\n        \r\n    <div className=\"bodycontant\">\r\n        <div className='sidebar'>\r\n            <SideNavBar/>\r\n        </div> \r\n        <div className='content'></div>\r\n        <div className='container mx-2 mt-1' >\r\n            <div className='container'>\r\n            <h1 className='mt-1'>\r\n                Personne\r\n            </h1>\r\n            <div className='searchBar my-2'>\r\n                <Link to={\"/AjouterPatient\"} className='btn btn-success mx-2'>Ajouter</Link>\r\n                <input className=\"form-control mr-sm-2 mx-1\" type=\"search\" onChange={Rechercher} placeholder=\"Rechercher Persone avec le Nom\" aria-label=\"Search\" />\r\n            </div>\r\n            <table className=\"table table-fixed\">\r\n                <thead style={{backgroundColor: '#D7DBDD'}}>\r\n                    <tr align='center'>\r\n                        <td colSpan={1}>image</td>\r\n                        <td colSpan={1}>Nom</td>\r\n                        <td colSpan={1}>Pr√©nom</td>\r\n                        <td colSpan={2}>email</td>\r\n                        <td colSpan={1}>phone</td>\r\n                        <td colSpan={1}>service</td>\r\n                        <td colSpan={2}>Action</td>\r\n                    </tr>\r\n                </thead>\r\n                <tbody >\r\n                    {mapping}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n        </div>\r\n    </div>\r\n        \r\n    )\r\n}\r\n\r\nexport default Patients"]},"metadata":{},"sourceType":"module"}