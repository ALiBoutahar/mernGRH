{"ast":null,"code":"import _slicedToArray from\"D:/SAVE D/github project/mernGRH/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// import React, { useEffect } from 'react'\n// import axios from \"axios\"\n// import { useState } from 'react'\n// import { Link } from 'react-router-dom'\n// // import Swal from 'sweetalert2'\n// import SideNavBar from '../../SideNavBar/SideNavBar'\n// function Patients() {\n//     const [patient, setPatient] = useState([])\n//     const [patientItem, setPatientItem] = useState([])\n//     useEffect(() => {\n//         axios.post(\"http://localhost:5000/persone\")\n//         .then(res => {\n//             const use = res.data.data;\n//             setPatient(use)\n//             setPatientItem(use)\n//         });\n//     },[]);  \n//     const Rechercher = (e) => {\n//         if (e.target.value === \"\") {\n//             setPatient(patientItem)\n//             return;\n//         }\n//         else {\n//             const result = patient.filter(item => item.absences.date.search(e.target.value))\n//             setPatient(result)\n//         }\n//     }\n//     const mapping = patient && patient.map(item => (\n//         <tr style={{backgroundColor: '#EAEDED '}} align='center' key={item._id}>\n//             <td className='p-0' colSpan={1}><img src={`/images/files-persones/${item.image}`} alt=\"\" width={70} height={70}/></td>\n//             <td colSpan={1}>{item.nom}</td>\n//             <td colSpan={1}>{item.prenom}</td>\n//             <td colSpan={2}>{item.email}</td>\n//             <td colSpan={1}>{item.tele}</td>\n//             <td colSpan={1}>{item.service}</td>\n//         </tr>\n//     ))\n//     return (\n//     <div className=\"bodycontant\">\n//         <div className='sidebar'>\n//             <SideNavBar/>\n//         </div> \n//         <div className='content'></div>\n//         <div className='container mx-2 mt-1' >\n//             <div className='container'>\n//             <h1 className='mt-1'>\n//                 Personne \n//             </h1>\n//             <div className='searchBar my-2'>\n//                 <input className=\"form-control mr-sm-2 mx-1\" type=\"search\" onChange={Rechercher} placeholder=\"Rechercher Persone avec le Nom\" aria-label=\"Search\" />\n//             </div>\n//             <table className=\"table table-fixed\">\n//                 <thead style={{backgroundColor: '#D7DBDD'}}>\n//                     <tr align='center'>\n//                         <td colSpan={1}>image</td>\n//                         <td colSpan={1}>Nom</td>\n//                         <td colSpan={1}>Prénom</td>\n//                         <td colSpan={2}>email</td>\n//                         <td colSpan={1}>phone</td>\n//                         <td colSpan={1}>service</td>\n//                     </tr>\n//                 </thead>\n//                 <tbody >\n//                     {mapping}\n//                 </tbody>\n//             </table>\n//         </div>\n//         </div>\n//     </div>\n//     )\n// }\n// export default Patients\nimport React,{useEffect,useState}from'react';import axios from'axios';import SideNavBar from'../../SideNavBar/SideNavBar';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Patients(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),patients=_useState2[0],setPatients=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),filteredPatients=_useState4[0],setFilteredPatients=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),searchDate=_useState6[0],setSearchDate=_useState6[1];useEffect(function(){axios.post(\"http://localhost:5000/persone\").then(function(res){var users=res.data.data;setPatients(users);setFilteredPatients(users);});},[]);var searchPatientsByDate=function searchPatientsByDate(){var result=patients.filter(function(patient){if(patient.absences){return patient.absences.some(function(absence){return absence.date===searchDate;});}return false;});setFilteredPatients(result);};var resetSearch=function resetSearch(){setSearchDate('');setFilteredPatients(patients);};return/*#__PURE__*/_jsxs(\"div\",{className:\"bodycontant\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"sidebar\",children:/*#__PURE__*/_jsx(SideNavBar,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"content\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container mx-2 mt-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mt-1\",children:\"Personne\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"searchBar my-2\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-control mr-sm-2 mx-1\",type:\"date\",value:searchDate,onChange:function onChange(e){return setSearchDate(e.target.value);},placeholder:\"Rechercher Personne avec la Date d'Absence\",\"aria-label\":\"Search\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:searchPatientsByDate,children:\"Search\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:resetSearch,children:\"Reset\"})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-fixed\",children:[/*#__PURE__*/_jsx(\"thead\",{style:{backgroundColor:'#D7DBDD'},children:/*#__PURE__*/_jsxs(\"tr\",{align:\"center\",children:[/*#__PURE__*/_jsx(\"td\",{colSpan:1,children:\"Image\"}),/*#__PURE__*/_jsx(\"td\",{colSpan:1,children:\"Nom\"}),/*#__PURE__*/_jsx(\"td\",{colSpan:1,children:\"Pr\\xE9nom\"}),/*#__PURE__*/_jsx(\"td\",{colSpan:2,children:\"Email\"}),/*#__PURE__*/_jsx(\"td\",{colSpan:1,children:\"Phone\"}),/*#__PURE__*/_jsx(\"td\",{colSpan:1,children:\"Service\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filteredPatients.map(function(item){return/*#__PURE__*/_jsxs(\"tr\",{style:{backgroundColor:'#EAEDED'},align:\"center\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"p-0\",colSpan:1,children:/*#__PURE__*/_jsx(\"img\",{src:\"/images/files-persones/\".concat(item.image),alt:\"\",width:70,height:70})}),/*#__PURE__*/_jsx(\"td\",{colSpan:1,children:item.nom}),/*#__PURE__*/_jsx(\"td\",{colSpan:1,children:item.prenom}),/*#__PURE__*/_jsx(\"td\",{colSpan:2,children:item.email}),/*#__PURE__*/_jsx(\"td\",{colSpan:1,children:item.tele}),/*#__PURE__*/_jsx(\"td\",{colSpan:1,children:item.service})]},item._id);})})]})]})})]});}export default Patients;","map":{"version":3,"sources":["D:/SAVE D/github project/mernGRH/client/src/component/pages/absance/absence.jsx"],"names":["React","useEffect","useState","axios","SideNavBar","Patients","patients","setPatients","filteredPatients","setFilteredPatients","searchDate","setSearchDate","post","then","res","users","data","searchPatientsByDate","result","filter","patient","absences","some","absence","date","resetSearch","e","target","value","backgroundColor","map","item","image","nom","prenom","email","tele","service","_id"],"mappings":"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","sourcesContent":["// import React, { useEffect } from 'react'\r\n// import axios from \"axios\"\r\n// import { useState } from 'react'\r\n// import { Link } from 'react-router-dom'\r\n// // import Swal from 'sweetalert2'\r\n// import SideNavBar from '../../SideNavBar/SideNavBar'\r\n// function Patients() {\r\n//     const [patient, setPatient] = useState([])\r\n//     const [patientItem, setPatientItem] = useState([])\r\n\r\n//     useEffect(() => {\r\n//         axios.post(\"http://localhost:5000/persone\")\r\n//         .then(res => {\r\n//             const use = res.data.data;\r\n//             setPatient(use)\r\n//             setPatientItem(use)\r\n//         });\r\n//     },[]);  \r\n\r\n//     const Rechercher = (e) => {\r\n//         if (e.target.value === \"\") {\r\n//             setPatient(patientItem)\r\n//             return;\r\n//         }\r\n//         else {\r\n//             const result = patient.filter(item => item.absences.date.search(e.target.value))\r\n//             setPatient(result)\r\n//         }\r\n//     }\r\n\r\n//     const mapping = patient && patient.map(item => (\r\n//         <tr style={{backgroundColor: '#EAEDED '}} align='center' key={item._id}>\r\n//             <td className='p-0' colSpan={1}><img src={`/images/files-persones/${item.image}`} alt=\"\" width={70} height={70}/></td>\r\n//             <td colSpan={1}>{item.nom}</td>\r\n//             <td colSpan={1}>{item.prenom}</td>\r\n//             <td colSpan={2}>{item.email}</td>\r\n//             <td colSpan={1}>{item.tele}</td>\r\n//             <td colSpan={1}>{item.service}</td>\r\n//         </tr>\r\n//     ))\r\n//     return (\r\n\r\n        \r\n//     <div className=\"bodycontant\">\r\n//         <div className='sidebar'>\r\n//             <SideNavBar/>\r\n//         </div> \r\n//         <div className='content'></div>\r\n//         <div className='container mx-2 mt-1' >\r\n//             <div className='container'>\r\n//             <h1 className='mt-1'>\r\n//                 Personne \r\n//             </h1>\r\n//             <div className='searchBar my-2'>\r\n//                 <input className=\"form-control mr-sm-2 mx-1\" type=\"search\" onChange={Rechercher} placeholder=\"Rechercher Persone avec le Nom\" aria-label=\"Search\" />\r\n//             </div>\r\n//             <table className=\"table table-fixed\">\r\n//                 <thead style={{backgroundColor: '#D7DBDD'}}>\r\n//                     <tr align='center'>\r\n//                         <td colSpan={1}>image</td>\r\n//                         <td colSpan={1}>Nom</td>\r\n//                         <td colSpan={1}>Prénom</td>\r\n//                         <td colSpan={2}>email</td>\r\n//                         <td colSpan={1}>phone</td>\r\n//                         <td colSpan={1}>service</td>\r\n//                     </tr>\r\n//                 </thead>\r\n//                 <tbody >\r\n//                     {mapping}\r\n//                 </tbody>\r\n//             </table>\r\n//         </div>\r\n//         </div>\r\n//     </div>\r\n        \r\n//     )\r\n// }\r\n\r\n// export default Patients\r\nimport React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport SideNavBar from '../../SideNavBar/SideNavBar';\r\n\r\nfunction Patients() {\r\n    const [patients, setPatients] = useState([]);\r\n    const [filteredPatients, setFilteredPatients] = useState([]);\r\n    const [searchDate, setSearchDate] = useState('');\r\n\r\n    useEffect(() => {\r\n        axios.post(\"http://localhost:5000/persone\")\r\n        .then(res => {\r\n            const users = res.data.data;\r\n            setPatients(users);\r\n            setFilteredPatients(users);\r\n        });\r\n    }, []);\r\n\r\n    const searchPatientsByDate = () => {\r\n        const result = patients.filter(patient => {\r\n            if (patient.absences) {\r\n                return patient.absences.some(absence => absence.date === searchDate);\r\n            }\r\n            return false;\r\n        });\r\n        setFilteredPatients(result);\r\n    }\r\n\r\n    const resetSearch = () => {\r\n        setSearchDate('');\r\n        setFilteredPatients(patients);\r\n    }\r\n\r\n    return (\r\n        <div className=\"bodycontant\">\r\n            <div className='sidebar'>\r\n                <SideNavBar/>\r\n            </div> \r\n            <div className='content'></div>\r\n            <div className='container mx-2 mt-1'>\r\n                <div className='container'>\r\n                    <h1 className='mt-1'>Personne</h1>\r\n                    <div className='searchBar my-2'>\r\n                        <input\r\n                            className=\"form-control mr-sm-2 mx-1\"\r\n                            type=\"date\"\r\n                            value={searchDate}\r\n                            onChange={(e) => setSearchDate(e.target.value)}\r\n                            placeholder=\"Rechercher Personne avec la Date d'Absence\"\r\n                            aria-label=\"Search\"\r\n                        />\r\n                        <button className=\"btn btn-primary\" onClick={searchPatientsByDate}>Search</button>\r\n                        <button className=\"btn btn-secondary\" onClick={resetSearch}>Reset</button>\r\n                    </div>\r\n                    <table className=\"table table-fixed\">\r\n                        <thead style={{backgroundColor: '#D7DBDD'}}>\r\n                            <tr align='center'>\r\n                                <td colSpan={1}>Image</td>\r\n                                <td colSpan={1}>Nom</td>\r\n                                <td colSpan={1}>Prénom</td>\r\n                                <td colSpan={2}>Email</td>\r\n                                <td colSpan={1}>Phone</td>\r\n                                <td colSpan={1}>Service</td>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {filteredPatients.map(item => (\r\n                                <tr style={{backgroundColor: '#EAEDED'}} align='center' key={item._id}>\r\n                                    <td className='p-0' colSpan={1}><img src={`/images/files-persones/${item.image}`} alt=\"\" width={70} height={70}/></td>\r\n                                    <td colSpan={1}>{item.nom}</td>\r\n                                    <td colSpan={1}>{item.prenom}</td>\r\n                                    <td colSpan={2}>{item.email}</td>\r\n                                    <td colSpan={1}>{item.tele}</td>\r\n                                    <td colSpan={1}>{item.service}</td>\r\n                                </tr>\r\n                            ))}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Patients;\r\n"]},"metadata":{},"sourceType":"module"}