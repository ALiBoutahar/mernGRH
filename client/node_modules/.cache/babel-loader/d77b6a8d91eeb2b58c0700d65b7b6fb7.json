{"ast":null,"code":"import _slicedToArray from\"D:/SAVE D/github project/mernGRH/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import axios from'axios';import SideNavBar from'../../SideNavBar/SideNavBar';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Patients(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),patients=_useState2[0],setPatients=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),filteredPatients=_useState4[0],setFilteredPatients=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),searchDate=_useState6[0],setSearchDate=_useState6[1];useEffect(function(){axios.post(\"http://localhost:5000/persone\").then(function(res){var users=res.data.data;setPatients(users);// setFilteredPatients(users);\n});},[]);var searchPatientsByDate=function searchPatientsByDate(e){e.preventDefault();setSearchDate(\"\");var result=patients.filter(function(patient){if(patient.absences){return patient.absences.some(function(absence){return absence.date===searchDate;});}return false;});setFilteredPatients(result);};// const resetSearch = () => {\n//     setSearchDate('');\n//     setFilteredPatients(patients);\n// }\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"bodycontant\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"sidebar\",children:/*#__PURE__*/_jsx(SideNavBar,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"content\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container mx-2 mt-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"w-75 mt-1\",children:\" afficher les absances par date\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"searchBar my-2\",onSubmit:searchPatientsByDate,children:[/*#__PURE__*/_jsx(Link,{to:\"/AddAbsance\",className:\"btn btn-success mx-2\",children:\"Ajouter\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control mr-sm-2 mx-1\",type:\"date\",value:searchDate,onChange:function onChange(e){return setSearchDate(e.target.value);},placeholder:\"Rechercher Personne avec la Date d'Absence\",\"aria-label\":\"Search\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary btn-sm mr-1\",type:\"submit\",children:\"Search\"})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-fixed\",children:[/*#__PURE__*/_jsx(\"thead\",{style:{backgroundColor:'#D7DBDD'},children:/*#__PURE__*/_jsxs(\"tr\",{align:\"center\",children:[/*#__PURE__*/_jsx(\"td\",{colSpan:1,children:\"Image\"}),/*#__PURE__*/_jsx(\"td\",{colSpan:1,children:\"Nom\"}),/*#__PURE__*/_jsx(\"td\",{colSpan:1,children:\"Pr\\xE9nom\"}),/*#__PURE__*/_jsx(\"td\",{colSpan:2,children:\"Email\"}),/*#__PURE__*/_jsx(\"td\",{colSpan:1,children:\"Phone\"}),/*#__PURE__*/_jsx(\"td\",{colSpan:1,children:\"Service\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filteredPatients.map(function(item){return/*#__PURE__*/_jsxs(\"tr\",{style:{backgroundColor:'#EAEDED'},align:\"center\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"p-0\",colSpan:1,children:/*#__PURE__*/_jsx(\"img\",{src:\"/images/files-persones/\".concat(item.image),alt:\"\",width:70,height:70})}),/*#__PURE__*/_jsx(\"td\",{colSpan:1,children:item.nom}),/*#__PURE__*/_jsx(\"td\",{colSpan:1,children:item.prenom}),/*#__PURE__*/_jsx(\"td\",{colSpan:2,children:item.email}),/*#__PURE__*/_jsx(\"td\",{colSpan:1,children:item.tele}),/*#__PURE__*/_jsx(\"td\",{colSpan:1,children:item.service})]},item._id);})})]})]})})]});}export default Patients;","map":{"version":3,"sources":["D:/SAVE D/github project/mernGRH/client/src/component/pages/absance/absence.jsx"],"names":["React","useEffect","useState","axios","SideNavBar","Link","Patients","patients","setPatients","filteredPatients","setFilteredPatients","searchDate","setSearchDate","post","then","res","users","data","searchPatientsByDate","e","preventDefault","result","filter","patient","absences","some","absence","date","target","value","backgroundColor","map","item","image","nom","prenom","email","tele","service","_id"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport SideNavBar from '../../SideNavBar/SideNavBar';\r\nimport { Link } from 'react-router-dom'\r\n\r\n\r\nfunction Patients() {\r\n    const [patients, setPatients] = useState([]);\r\n    const [filteredPatients, setFilteredPatients] = useState([]);\r\n    const [searchDate, setSearchDate] = useState('');\r\n\r\n    useEffect(() => {\r\n        axios.post(\"http://localhost:5000/persone\")\r\n        .then(res => {\r\n            const users = res.data.data;\r\n            setPatients(users);\r\n            // setFilteredPatients(users);\r\n        });\r\n    }, []);\r\n\r\n    const searchPatientsByDate = (e) => {\r\n        e.preventDefault();\r\n        setSearchDate(\"\");\r\n        const result = patients.filter(patient => {\r\n            if (patient.absences) {\r\n                return patient.absences.some(absence => absence.date === searchDate);\r\n            }\r\n            return false;\r\n        });\r\n        setFilteredPatients(result);\r\n    }\r\n\r\n    // const resetSearch = () => {\r\n    //     setSearchDate('');\r\n    //     setFilteredPatients(patients);\r\n    // }\r\n\r\n    return (\r\n        <div className=\"bodycontant\">\r\n            <div className='sidebar'>\r\n                <SideNavBar/>\r\n            </div> \r\n            <div className='content'></div>\r\n            <div className='container mx-2 mt-1'>\r\n                <div className='container'>\r\n                    <h1 className='w-75 mt-1'> afficher les absances par date</h1>\r\n                    <form className='searchBar my-2' onSubmit={searchPatientsByDate}>\r\n                        <Link to={\"/AddAbsance\"} className='btn btn-success mx-2'>Ajouter</Link>\r\n                        <input\r\n                            className=\"form-control mr-sm-2 mx-1\"\r\n                            type=\"date\"\r\n                            value={searchDate}\r\n                            onChange={(e) => setSearchDate(e.target.value)}\r\n                            placeholder=\"Rechercher Personne avec la Date d'Absence\"\r\n                            aria-label=\"Search\"\r\n                        />\r\n                        <button className=\"btn btn-primary btn-sm mr-1\" type='submit' >Search</button>\r\n                        {/* <button className=\"btn btn-secondary btn-sm\" onClick={resetSearch}>Reset</button> */}\r\n                    </form>\r\n                    <table className=\"table table-fixed\">\r\n                        <thead style={{backgroundColor: '#D7DBDD'}}>\r\n                            <tr align='center'>\r\n                                <td colSpan={1}>Image</td>\r\n                                <td colSpan={1}>Nom</td>\r\n                                <td colSpan={1}>Pr√©nom</td>\r\n                                <td colSpan={2}>Email</td>\r\n                                <td colSpan={1}>Phone</td>\r\n                                <td colSpan={1}>Service</td>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {filteredPatients.map(item => (\r\n                                <tr style={{backgroundColor: '#EAEDED'}} align='center' key={item._id}>\r\n                                    <td className='p-0' colSpan={1}><img src={`/images/files-persones/${item.image}`} alt=\"\" width={70} height={70}/></td>\r\n                                    <td colSpan={1}>{item.nom}</td>\r\n                                    <td colSpan={1}>{item.prenom}</td>\r\n                                    <td colSpan={2}>{item.email}</td>\r\n                                    <td colSpan={1}>{item.tele}</td>\r\n                                    <td colSpan={1}>{item.service}</td>\r\n                                </tr>\r\n                            ))}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Patients;\r\n"]},"metadata":{},"sourceType":"module"}