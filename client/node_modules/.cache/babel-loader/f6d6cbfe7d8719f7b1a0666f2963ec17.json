{"ast":null,"code":"import _slicedToArray from\"D:/SAVE D/github project/mernGRH/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function News(){var _useState=useState(new Date().toISOString().split('T')[0]),_useState2=_slicedToArray(_useState,2),date=_useState2[0],setdate=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),patient=_useState4[0],setPatient=_useState4[1];function getPatient(){axios.post('http://localhost:5000/persone').then(function(response){setPatient(response.data.data);console.log(response.data.data);});}useEffect(function(){setdate(new Date().toISOString().split('T')[0]);getPatient();},[]);var stagiairesCount=patient.filter(function(person){return person.type==='stagiaire';}).length;var employersCount=patient.filter(function(person){return person.type==='employé';}).length;var absencesCount=patient.filter(function(patient){if(patient.absences){return patient.absences.some(function(absence){return absence.date===date;});}return false;});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"img\",{className:\"menu-item-icon\",src:\"icons/logoss.gif\",alt:\"\"}),/*#__PURE__*/_jsx(\"hr\",{className:\"style1\"}),/*#__PURE__*/_jsxs(\"h2\",{style:{fontFamily:\"Verdana, Geneva, Tahoma, sans-serif\"},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-check\"}),\" Rapport d'aujourd'hui\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mt-2 mb-3 col-md-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 col-sm-6\",style:{maxWidth:\"20rem\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"card text-white bg-primary mb-3\",style:{height:\"130px\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"card-title\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-shopping-bag\"}),\" Stagiaires\"]}),/*#__PURE__*/_jsxs(\"h3\",{className:\"card-text\",children:[/*#__PURE__*/_jsx(\"b\",{children:stagiairesCount}),\" Stagiaire\"]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 col-sm-6\",style:{maxWidth:\"20rem\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"card text-white bg-warning  mb-3\",style:{height:\"130px\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"card-title\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-user\"}),\" Employers\"]}),/*#__PURE__*/_jsxs(\"h3\",{className:\"card-text\",children:[/*#__PURE__*/_jsx(\"b\",{children:employersCount}),\" Employer\"]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 col-sm-6\",style:{maxWidth:\"20rem\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"card text-white bg-success mb-3\",style:{height:\"130px\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"card-title\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-gear\"}),\" Absences \"]}),/*#__PURE__*/_jsxs(\"h3\",{className:\"card-text\",children:[/*#__PURE__*/_jsx(\"b\",{children:absencesCount.length}),\" Absence\"]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 col-sm-6\",style:{width:\"90rem\"}}),/*#__PURE__*/_jsx(\"hr\",{className:\"style1\"})]})]});}export default News;","map":{"version":3,"sources":["D:/SAVE D/github project/mernGRH/client/src/component/pages/accueil/News.jsx"],"names":["React","useState","useEffect","axios","News","Date","toISOString","split","date","setdate","patient","setPatient","getPatient","post","then","response","data","console","log","stagiairesCount","filter","person","type","length","employersCount","absencesCount","absences","some","absence","fontFamily","maxWidth","height","width"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\n\r\nfunction News() {\r\n  const [date, setdate] = useState(new Date().toISOString().split('T')[0])\r\n  const [patient, setPatient] = useState([])\r\n\r\n  function getPatient() {\r\n    axios.post('http://localhost:5000/persone')\r\n      .then(response => {\r\n        setPatient(response.data.data)\r\n        console.log(response.data.data);\r\n      })\r\n  }\r\n\r\n  useEffect(() => {\r\n    setdate(new Date().toISOString().split('T')[0]);\r\n    getPatient();\r\n  }, [])\r\n\r\n  const stagiairesCount = patient.filter(person => person.type === 'stagiaire').length;\r\n  const employersCount = patient.filter(person => person.type === 'employé').length;\r\n  const absencesCount = patient.filter(patient => {\r\n    if (patient.absences) {\r\n        return patient.absences.some(absence => absence.date === date);\r\n    }\r\n    return false;\r\n  });\r\n\r\n\r\n  return (\r\n    <>\r\n      <img className=\"menu-item-icon\" src={\"icons/logoss.gif\"} alt=\"\" /> \r\n      <hr className=\"style1\"></hr>\r\n      <h2 style={{ fontFamily: \"Verdana, Geneva, Tahoma, sans-serif\" }}><i className=\"fa fa-check\"></i> Rapport d'aujourd'hui</h2>\r\n      <div className='row mt-2 mb-3 col-md-12' >\r\n        <div className='col-md-4 col-sm-6' style={{ maxWidth: \"20rem\" }} >\r\n          <div className=\"card text-white bg-primary mb-3\" style={{ height: \"130px\" }}  >\r\n            <div className=\"card-body\">\r\n              <h5 className=\"card-title\"><i className=\"fa fa-shopping-bag\"></i> Stagiaires</h5>\r\n              <h3 className=\"card-text\"><b>{stagiairesCount}</b> Stagiaire\r\n              </h3>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className='col-md-4 col-sm-6' style={{ maxWidth: \"20rem\" }} >\r\n          <div className=\"card text-white bg-warning  mb-3\" style={{ height: \"130px\" }}>\r\n            <div className=\"card-body\">\r\n              <h5 className=\"card-title\"><i className=\"fa fa-user\"></i> Employers</h5>\r\n              <h3 className=\"card-text\"><b>{employersCount}</b> Employer</h3>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className='col-md-4 col-sm-6' style={{ maxWidth: \"20rem\" }} >\r\n          <div className=\"card text-white bg-success mb-3\" style={{ height: \"130px\" }} >\r\n            <div className=\"card-body\">\r\n              <h5 className=\"card-title\"><i className=\"fa fa-gear\"></i> Absences </h5>\r\n              <h3 className=\"card-text\"><b>{absencesCount.length}</b> Absence</h3>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className='col-md-4 col-sm-6' style={{ width: \"90rem\" }}>\r\n        </div>\r\n        <hr className=\"style1\"></hr>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default News"]},"metadata":{},"sourceType":"module"}